<!DOCTYPE html>
<html>

<head>
    <title>Goods.com</title>
    <link rel="stylesheet" type="text/css" href="assets/style.css"/>
    <style>
        .navBar input[type="text"] {
            width: 600px;
        }
    </style>
</head>

<body>
    <div class="navBar">
        <img id="logo" src="assets/goods_logo.png" alt="alternative text"/>
      <input type="text" placeholder="Search for products in goods.com" />
        <button type="submit">Search<i class="fa-search"></i></button>
        <div id="listing">
            <ul>
                <a href="/account.html">Account</a>
                <a href="/cart.html">Cart</a>
                <a href="/monitor.html">Your orders</a>  
                <a href="/index.html"> Main </a>
                <a href="/geoLocation.html"> Tracking </a>
    </ul>
    </div>
      </div>


      <div class="Productbar">
        <!--         <h1>Available Products</h1> -->
                <ul id ="product-list">
                    <!-- Product items will be displayed here dynamically using JavaScript-->
                </ul>
                
                <script> 
                    // Function to fetch orders from the API
                    function fetchCart() {
                              // Replace 'apiEndpoint' with your actual API endpoint
                              fetch('/fetch_cart')
                                  .then(response => response.json())
                                  .then(products => {
                                      const ProductList = document.getElementById('product-list');
                                      var totalAmount= 0;
                                      products.forEach(product => {
                                          const listItem = document.createElement('li');
                                          totalAmount = totalAmount + parseFloat(product.productPrice);
                                          listItem.innerHTML = `
                                              <div class="product-box">
                                              <h2>Product name: ${product.name}</h2>
                                              <p>Description: ${product.productDescription}</p>
                                              <div class="product-price">
                                              <p>Price: $${product.productPrice}</p>
                                              </div>
                                              </div>
                                              <!-- Add more order details here -->
                                          `;
                                          ProductList.appendChild(listItem);
                                      });
                                      const totalItem = document.createElement('p');
                                      totalItem.innerHTML= `
                                      <div class="checkout-box">
                                      <h3> Total price: $${totalAmount}</h3>
                                      <button id="checkout">Checkout</button>
                                      </div>
                                      `;
                                      ProductList.appendChild(totalItem);
                                  })
                                  .catch(error => console.error('Error fetching orders:', error));
                          }
                          // Fetch and render order list on page load
                          fetchCart();
                
                </script>
        </div>



    </body>